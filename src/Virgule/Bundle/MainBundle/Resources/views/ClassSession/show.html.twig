{% extends '::main_content.html.twig' %}
{% block content_title %}Compte-rendu de cours{% endblock %}
{%block submenu %}
    {% if app.user.id == entity.reportTeacher.id %}
        <a class="btn tip-bottom" href="{{ path('classsession_edit', { 'id': entity.id }) }}"> <i class="my-icon-user_edit"></i>Modifier le compte-rendu</a>  
    {% endif %}   
{% endblock %}
{% block main_content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-8 form-horizontal not-form-horizontal">
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon">
                            <i class="icon-align-justify"></i>
                    </span>
                </div>            
                <div class="widget-content nopadding">
                    <div class="control-group">
                        <label class="control-label">Cours </label>
                        <div class="controls">
                            niveau {% include '::class_level_badge.html.twig'  with { 'classLevelColorCode': entity.course.classLevel.htmlColorCode, 'classLevelLabel': entity.course.classLevel.label } %}
                            &nbsp;le {{ entity.course.dayOfWeek | day }} de {{ entity.course.startTime | date('H\\hi') }} à {{ entity.course.endTime | date('H\\hi') }}
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Cours du</label>
                        <div class="controls">{{ entity.sessionDate | date('d/m/Y') }}</div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Dirigé par</label>
                        <div class="controls">{{ entity.sessionTeacher.firstName }} {{ entity.sessionTeacher.lastName }}</div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Compte-rendu saisi par</label>
                        <div class="controls">{{ entity.reportTeacher.firstName }} {{ entity.reportTeacher.lastName }} le {{ entity.reportDate | date('d/m/Y à h:i') }}</div>
                    </div>
                    <div class="control-group">
                        <div>
                            <div class="text-block">
                                {{ entity.summary|raw }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>            
        <div class="col-md-4">
            {% include 'VirguleMainBundle:Student:mini-list.html.twig' with { 'title': 'Apprenants présents', 'students': classSessionStudents, 'nbColumns': 1 }  %}
                
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon">
                            <i class="icon-comments"></i>
                    </span>
                    <h5>Commentaires</h5>
                </div>            
                {% include 'VirguleMainBundle:Comment:index.html.twig' with {'comments': entity.comments, 'commentForm': commentForm, 'target_id': entity.id, 'target_route': 'classsession_comment_create' }  %}
                <div><a class="btn btn-default" id="add-comment">Ajouter un commentaire</a></div>
            </div>
        </div>
    </div>
</div>                 
{% endblock %}